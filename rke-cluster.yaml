nodes:
    - address: 10.0.3.254
      user: root
      role:
        - controlplane
        - etcd
      port: 22
    - address: 10.0.3.34
      user: ubuntu
      role:
        - worker
      port: 22


ignore_docker_version: false
ssh_key_path: /home/admin/.ssh/id_rsa

private_registries:
    - url: docker.io
      user: avijit1979
      password: Lotus2ibm
cluster_name: k8s-plyground

kubernetes_version: v1.22.5-rancher2-1
system_images:
    kubernetes: rancher/hyperkube:v1.23.3-rancher1
    etcd: rancher/coreos-etcd:v3.4.16-rancher1
    alpine: rancher/rke-tools:v0.1.79-linux-amd64
    nginx_proxy: rancher/rke-tools:v0.1.79-linux-amd64
    kubernetes_services_sidecar: rancher/rke-tools:v0.1.79-linux-amd64
    kubedns: rancher/k8s-dns-kube-dns-amd64:1.15.0
    dnsmasq: rancher/k8s-dns-dnsmasq-nanny-amd64:1.15.0
    kubedns_sidecar: rancher/k8s-dns-sidecar-amd64:1.15.0
    pod_infra_container: rancher/pause-amd64:3.1
    coredns: coredns/coredns:1.9.0
    canal_node: rancher/calico-node:v3.18.1
    canal_cni: rancher/calico-cni:v3.18.1
    canal_flannel: rancher/coreos-flannel:v0.13.0-rancher1

services:
    etcd:
    kube-api:
      service_cluster_ip_range: 10.43.0.0/16
      service_node_port_range: 30000-32767    
      pod_security_policy: false
      extra_args:
        audit-log-path: "-"
        delete-collection-workers: 3
        v: 4
    kube-controller:
      cluster_cidr: 10.42.0.0/16
      service_cluster_ip_range: 10.43.0.0/16
    kubelet:
      cluster_domain: cluster.local
      cluster_dns_server: 10.43.0.10
      fail_swap_on: false
      extra_args:
        max-pods: 250
      extra_binds:
        - "/usr/libexec/kubernetes/kubelet-plugins:/usr/libexec/kubernetes/kubelet-plugins"
    
network:
    plugin: canal
dns:
    provider: coredns
ingress:
    provider: nginx
    node_selector:
      app: ingress
      
addons: |-
    ---
    apiVersion: v1
    kind: Pod
    metadata:
      name: my-nginx
      namespace: default
    spec:
      containers:
      - name: my-nginx
        image: nginx
        ports:
        - containerPort: 80
